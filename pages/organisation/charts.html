<!DOCTYPE html>
<div dir="rtl" lang="ar">

    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=Edge">
        <meta content="width=device-width, initial-scale=1" name="viewport" />
        <title>StratRoom</title>
        <!-- Favicon-->
        <!-- <link rel="icon" href="../../assets/images/favicon.ico" type="image/x-icon"> -->
        <!-- Plugins Core Css -->
        <link href="../../assets/css/app.min.css" rel="stylesheet">
        <!-- Custom Css -->
        <link href="../../assets/css/style.css" rel="stylesheet" />
        <link href="../../assets/css/startroom/wedgets.css" rel="stylesheet" />
        <link href="../../assets/css/charts.css" rel="stylesheet" />
        <!-- You can choose a theme from css/styles instead of get all themes -->
        <link href="../../assets/css/styles/all-themes.css" rel="stylesheet" />
        <link href="../../assets/css/table-view.css" rel="stylesheet" />
        <!-- <link rel="stylesheet" href="../../assets/daterangepicker.css"> -->
        <link rel="stylesheet" href="../../assets/datepickerair.css">
        <link href="../../assets/jquery-ui.min.css" rel="stylesheet">
        <link href="../../assets/daterangepicker/daterangepicker.min.css" rel="stylesheet">
        <link rel="stylesheet" href="../../assets/nano.min.css">
        <link rel="stylesheet" href="../../assets/monolith.min.css">
        <link rel="stylesheet" href="../../assets/classic.min.css">
        <link href="../../assets/select2.min.css" rel="stylesheet">

        <!-- FontAwsome icons -->
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css"
            integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr"
            crossorigin="anonymous" />

        <!-- <link href="../../assets/daterangepicker/daterangepicker.min.css" rel="stylesheet"> -->

        <style>
            .fa-cog,
            .fa-info-circle {
                color: #000;
            }

            .yAxisColor,
            .xAxisColor {
                background: #000;
            }

            .btn-secondary {
                color: #fff;
                background-color: #6c757d;
                border-color: #6c757d;
                padding: 0px 12px;
                font-size: 12px;
                background-color: #02162a;
                margin-right: 3px;
                margin-bottom: 9px;
                border-radius: 8px !important;
                margin-top: 8px;
            }

            .btn-secondary:hover {
                color: #fff !important;
                background-color: #6c757d !important;
                border-color: #6c757d !important;
                padding: 0px 12px !important;
                font-size: 12px !important;
                background-color: #02162a !important;
                margin-right: 3px !important;
                margin-bottom: 9px !important;
                border-radius: 8px !important;
                margin-top: 8px !important;
            }

            .list-group {
                max-height: 215px;
                margin-bottom: 10px;
                overflow: scroll;
                overflow-x: inherit;
                -webkit-overflow-scrolling: touch;
                font-size: 11px;
                border: 1px solid #e9ecef;
            }

            #result_panel>.panelbody>.list-group>.list-group-item {
                padding: 5px 10px !important;
            }

            #formula_builder,
            #summary_calculation {
                font-size: 11px !important;
            }

            #kpi_formula_popup>.modal-content>.modal-body {
                padding: 0 25px !important;
            }

            #kpi_formula_popup>.modal-content>.modal-body.card>.tab-content {
                padding: 0;
            }

            #formula_builder {
                padding-bottom: 0px;
            }

            .panel:hover {
                cursor: pointer;
            }

            #formula-builder .col-md-4 {
                margin-bottom: 0px;
            }

            .modal #kpi_formula_popup {
                background-color: rgba(238, 238, 238, 0) !important;
            }

            .modal-backdrop {
                opacity: 0.5 !important;
            }

            #kpi_formula_popup .modal-content .nav li a.nav-link {
                font-size: 12px !important;
            }

            #datepickers-container {
                z-index: 10000;
            }

            .datepicker--nav {
                -webkit-box-shadow: none;
                -moz-box-shadow: none;
                -ms-box-shadow: none;
                box-shadow: none;
                background-color: #ffff;
                color: #9c9c9c;
                width: 100%;
                height: 36px;
            }

            .orientation-right {
                top: 60px !important;
                right: 0 !important;
                left: auto !important;
                position: fixed;
            }

            .chkbx {
                position: relative !important;
                opacity: 1 !important;
                margin: 6px !important;
                vertical-align: middle !important;
            }

            .select2-container {
                width: 240px !important;
            }

            .select2-container--default .select2-selection--multiple {
                border: none;
                border-bottom: 1px solid #9e9e9e !important;
                border-radius: 0 !important;
                height: 30px;
            }

            .select2-container--default.select2-container--focus .select2-selection--multiple {
                border: none;
                /* border-bottom: 1px solid #9e9e9e !important; */
            }
        </style>
    </head>

    <body class="light">
        <!-- Page Loader -->
        <div class="page-loader-wrapper">
            <div class="loader">
                <div class="m-t-30">
                    <img width="100" src="../../assets/images/logo_1.gif" alt="admin">
                </div>
                <p>Please wait...</p>
            </div>
        </div>
        <!-- <div>
            <img src="../../assets/images/SP_Bg.png" alt="">
        </div> -->
        <!-- #END# Page Loader -->
        <!-- Overlay For Sidebars -->
        <div class="overlay"></div>
        <!-- #END# Overlay For Sidebars -->
        <!-- Top Bar -->
        <nav class="navbar">
            <div class="container-fluid">
                <div class="collapse navbar-collapse" id="navbar-collapse">
                    <ul class="nav navbar-nav">
                        <li class="">
                            <a href="#" onclick="return false;" class=" dropdown-toggle js-right-sidebar"
                                data-close="true">
                                <!-- <img src="../../assets/images/user.jpg" alt="user"> -->
                                <i class="fas fa-user-circle"></i> </a>
                        </li>
                        <!-- #START# Notifications-->
                        <li class="dropdown">
                            <a href="#" onClick="return false;" class="dropdown-toggle" data-toggle="dropdown"
                                role="button">
                                <i class="nav-hdr-btn ti-bell" style="color: gray"></i>
                                <span class="notify"></span>
                                <span class="heartbeat"></span>
                            </a>
                        </li>
                        <li class="dropdown">
                            <a href="#" onClick="return false;" data-toggle="modal" data-target="#settings"
                                role="button">
                                <i class="nav-hdr-btn ti-settings" style="color: gray"></i>
                                <span class="notify"></span>
                                <span class="heartbeat"></span>
                            </a>
                        </li>
                        <!-- #END# Notifications-->
                        <li class="fullscreen">
                            <!-- <i class="nav-hdr-btn ti-calendar" style="color: gray"></i> -->
                            <input class="daterangepicker-field top_datepicker"></input>
                        </li>
                        <!-- #END# Full Screen Button -->
                        <li class="fullscreen">
                            <form class="form-header" action="" method="POST">
                                <input class="au-input au-input--xl" style="min-width: 20%" type="text" name="search"
                                    placeholder="Search">
                                <button class="au-btn--submit" type="submit">
                                    <i class="fa fa-search" style="color:gray"></i>
                                </button>
                            </form>
                        </li>
                        <li class="fullscreen" style="padding: 4px;">
                            <ul class="list-unstyled order-list">
                                <li class="avatar avatar-sm">
                                    <img class="rounded-circle" src="../../assets/images/user/user7.jpg" alt="user">
                                </li>
                                <li class="avatar avatar-sm">
                                    <img class="rounded-circle" src="../../assets/images/user/user8.jpg" alt="user">
                                </li>
                                <li class="avatar avatar-sm">
                                    <img class="rounded-circle" src="../../assets/images/user/user9.jpg" alt="user">
                                </li>
                                <li class="avatar avatar-sm">
                                    <img class="rounded-circle" src="../../assets/images/user/user9.jpg" alt="user">
                                </li>
                                <li _ngcontent-hhc-c5="" class="avatar avatar-sm"><span _ngcontent-hhc-c5=""
                                        class="badge">+3</span></li>
                            </ul>
                        </li>
                    </ul>
                </div>
                <div class="navbar-header navbar-right">
                    <a href="#" onClick="return false;" class="navbar-toggle collapsed" data-toggle="collapse"
                        data-target="#navbar-collapse" aria-expanded="false"></a>
                    <a href="#" onClick="return false;" class="bars"></a>
                    <a href="#" onClick="return false;" class="bar_nav sidemenu-collapse"><i class="nav-hdr-btn ti-menu"
                            style="color: #000"></i></a>
                    <a class="navbar-brand nav_float" href="#">
                        <img src="../../assets/images/Startroom_Final logo-01_1.png" alt="">
                        <!-- <span class="logo-name">Img</span> -->
                    </a>
                </div>
            </div>
        </nav>
        <!-- #Top Bar -->
        <div>
            <!-- Left Sidebar -->
            <aside id="leftsidebar" class="sidebar">
                <!-- Menu -->
                <div class="menu">
                    <ul class="list">
                        <li class="active">
                            <a href="#" onClick="return false;" class="">
                                <i class="menu-icon ti-home"></i>
                                <span>Organisation Structure</span>
                            </a>
                        </li>

                        <li>
                            <a href="#" onClick="return false;" class="menu-toggle">
                                <i class="menu-icon ti-image"></i>
                                <span>Dashboards</span>
                            </a>
                            <ul class="ml-menu">
                                <li>
                                    <a href="#">BSC Dashboard</a>
                                </li>
                                <li>
                                    <a href="#">Strategy Map</a>
                                </li>
                            </ul>
                        </li>

                        <li class="">
                            <a href="#" onClick="return false;" class="">
                                <i class="menu-icon ti-bar-chart"></i>
                                <span>Charts</span>
                            </a>
                        </li>

                        <li class="">
                            <a href="#" onClick="return false;" class="">
                                <i class="menu-icon ti-key"></i>
                                <span>Users & Access</span>
                            </a>
                        </li>

                        <li class="">
                            <a href="#" onClick="return false;" class="">
                                <i class="menu-icon ti-vector"></i>
                                <span>Workflows</span>
                            </a>
                        </li>

                        <li class="">
                            <a href="#" onClick="return false;" class="">
                                <i class="menu-icon ti-bell"></i>
                                <span>Notifications & Alerts</span>
                            </a>
                        </li>

                        <li class="">
                            <a href="#" onClick="return false;" class="">
                                <i class="menu-icon ti-server"></i>
                                <span>Data Management</span>
                            </a>
                        </li>

                        <li>
                            <a href="#" onClick="return false;" class="menu-toggle">
                                <i class="menu-icon ti-layout-media-right-alt"></i>
                                <span>Template Management</span>
                            </a>
                            <ul class="ml-menu">
                                <li>
                                    <a href="#" id="sub-menu" onClick="return false;" class="menu-toggle">
                                        Scorecard Layouts
                                    </a>
                                    <ul class="ml-menu">
                                        <li><a href="#">Standard BSC View</a></li>
                                        <li><a href="#">Dashboard View</a></li>
                                    </ul>
                                </li>
                                <li>
                                    <a href="#" id="sub-menu" onClick="return false;" class="menu-toggle">
                                        Initiative
                                    </a>
                                    <ul class="ml-menu">
                                        <li><a href="#">Sub Initiatives</a></li>
                                        <li><a href="#">Tasks</a></li>
                                        <li><a href="#">Activities</a></li>
                                        <li><a href="#">Milestones</a></li>
                                    </ul>
                                </li>
                                <li>
                                    <a href="#">Reports Table</a>
                                </li>
                                <li>
                                    <a href="#" id="sub-menu" onClick="return false;" class="menu-toggle">
                                        Comments
                                    </a>
                                    <ul class="ml-menu">
                                        <li><a href="#">Comments & Observations</a></li>
                                        <li><a href="#">Proof of Evidence</a></li>
                                    </ul>
                                </li>
                                <li>
                                    <a href="#">Employee Layout</a>
                                </li>
                                <li>
                                    <a href="#">Appraisal</a>
                                </li>
                                <li>
                                    <a href="#">Data Collection Form</a>
                                </li>
                            </ul>
                        </li>

                        <li class="">
                            <a href="#" onClick="return false;" class="">
                                <i class="menu-icon ti-home"></i>
                                <span>Widget Management</span>
                            </a>
                        </li>

                        <li class="">
                            <a href="#" onClick="return false;" class="">
                                <i class="menu-icon ti-pie-chart"></i>
                                <span>Reports</span>
                            </a>
                        </li>

                    </ul>
                </div>
                <!-- #Menu -->
            </aside>
            <!-- #END# Left Sidebar -->
            <!-- Right Sidebar -->
            <aside id="rightsidebar" class="right-sidebar open">
                <div class="tab-content">
                    <div role="tabpanel" class="tab-pane in active in active stretchLeft" id="skins">
                        <div class="slimScrollDiv" style="position: relative; overflow: hidden; width: auto;">
                            <div class="demo-skin" style="overflow: hidden; width: auto; height: auto;">
                                <div class="rightSetting">
                                    <p class="left">Profile</p>
                                    <a href="#">
                                        <p class="right editProfile">Edit</p>
                                        <p class="right editProfile"></p>
                                    </a>
                                    <ul class="setting-list profile-default list-unstyled m-t-20 center">
                                        <!-- <li class="center">
                                                <i class="fas fa-user-circle" style="font-size: 110px"></i>
                                            </!-->
                                        <li _ngcontent-hhc-c5="" class="center avatar avatar-sm" style="width:85px">
                                            <img _ngcontent-hhc-c5="" alt="user" width="110" class="rounded-circle"
                                                src="../../assets/images/user/usrbig7.jpg">
                                        </li>
                                        <li>
                                            <p class="center name">Karthick, C001</p>
                                        </li>
                                        <li>
                                            <p class="center grey1">Manager, Chennai, TN, India</p>
                                        </li>
                                        <li>
                                            <p class="center grey1">karthick@stratroom.com</p>
                                        </li>
                                    </ul>
                                    <ul class="setting-list profile-replace list-unstyled m-t-20" style="display: none">
                                        <li class="center">
                                            <form id="profileForm">
                                                <div class="form-group">
                                                    <div class="form-line profile-pic">
                                                        <!-- <i  class="fas fa-user-circle" style="font-size: 100px; opacity:0.5"></i> -->
                                        <li id="profileImage" _ngcontent-hhc-c5="" class="center avatar avatar-sm"
                                            style="width:85px; z-index:-1">
                                            <img _ngcontent-hhc-c5="" alt="user" width="110" class="rounded-circle"
                                                src="../../assets/images/user/usrbig7.jpg">
                                        </li>
                                        <input id="imageUpload" type="file" name="profile_photo" placeholder="Photo"
                                            required="" capture="">
                                        <div class="edit"><a href="#"><i class="fa fa-pencil-alt"></i></a></div>
                                </div>
                                <div class="form-line">
                                    <label for="name" class="left">Name</label>
                                    <input type="text" name="name" class="form-control">
                                </div>
                                <div class="form-line">
                                    <label for="id" class="left">Employee ID</label>
                                    <input type="text" name="id" class="form-control">
                                </div>

                                <div class="form-line">
                                    <label for="title" class="left">Title</label>
                                    <input type="text" name="title" class="form-control">
                                </div>

                                <div class="form-line">
                                    <label for="email" class="left">Email</label>
                                    <input type="email" name="email" class="form-control">
                                </div>

                                <div class="form-line">
                                    <label for="location" class="left">Location</label>
                                    <input type="text" name="location" class="form-control">
                                </div>

                                <div class="form-line center">
                                    <button class="btn-default1 btn cancelEditProfile" value="Cancel">Cancel</button>
                                    <button class="scorecard_save_btn" value="Submit">Submit</button>
                                </div>

                            </div>
                            </form>
                            </li>
                            <li>
                                <!-- <p class="center name">Karthick</p> -->
                            </li>
                            </ul>
                        </div>

                        <div class="row clearfix">
                            <!-- Basic Examples -->
                            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                                <div class="">
                                    <div class="body">
                                        <div class="row clearfix">
                                            <div class="col-xs-12 ol-sm-12 col-md-12 col-lg-12">
                                                <div class="panel-group" id="accordion_1" role="tablist"
                                                    aria-multiselectable="true">
                                                    <div class="panel">
                                                        <div class="panel-heading profile_report" role="tab"
                                                            id="headingOne_1">
                                                            <h4 class="panel-title">
                                                                <a role="button" data-toggle="collapse"
                                                                    data-parent="#accordion_1" href="#collapseOne_1"
                                                                    aria-expanded="true" aria-controls="collapseOne_1">
                                                                    Reporting To
                                                                </a>
                                                            </h4>
                                                        </div>
                                                        <div id="collapseOne_1" class="panel-collapse collapse in"
                                                            role="tabpanel" aria-labelledby="headingOne_1">
                                                            <div class="panel-body profile_edit">
                                                                <div class="rightSetting">
                                                                    <!-- <p class="left">Reporting To</p> -->
                                                                    <a href="#" id="reportingAdd">
                                                                        <p class="right">Add</p>
                                                                    </a>
                                                                    <ul
                                                                        class="setting-list reporting-default list-unstyled m-t-20">
                                                                        <li class="row reportingRow">
                                                                            <div class="col-md-3 p-b-10">
                                                                                <!-- <li id="profileImage" _ngcontent-hhc-c5="" class="center avatar avatar-sm" style="width:85px; z-index:-1"> -->
                                                                                <img _ngcontent-hhc-c5="" alt="user"
                                                                                    width="110" class="rounded-circle"
                                                                                    src="../../assets/images/user/usrbig7.jpg">
                                                                                <!-- </li> -->
                                                                            </div>
                                                                            <div class="col-md-7 p-t-5">
                                                                                <p class="center name">Arun</p>
                                                                                <p class="center grey1">Developer</p>

                                                                            </div>
                                                                            <div class="col-md-1" style="float: right;">
                                                                                <a href="#" class="reportingEdit"><i
                                                                                        class="fas fa-pencil-alt"
                                                                                        style="font-size: 14px"></i></a>
                                                                            </div>
                                                                        </li>
                                                                        <li class="row reportingRow">
                                                                            <div class="col-md-3 p-b-10">
                                                                                <img _ngcontent-hhc-c5="" alt="user"
                                                                                    width="110" class="rounded-circle"
                                                                                    src="../../assets/images/user/usrbig8.jpg">
                                                                            </div>
                                                                            <div class="col-md-7 p-t-5">
                                                                                <p class="center name">Santhosh</p>
                                                                                <p class="center grey1">CTO</p>
                                                                            </div>
                                                                            <div class="col-md-1" style="float: right;">
                                                                                <a href="#" class="reportingEdit"><i
                                                                                        class="fas fa-pencil-alt"
                                                                                        style="font-size: 14px"></i></a>
                                                                            </div>
                                                                        </li>
                                                                    </ul>
                                                                    <ul class="setting-list reporting-replace-add list-unstyled m-t-20"
                                                                        style="display:none">
                                                                        <li class="row">
                                                                            <form id="reportingAddForm">
                                                                                <div class="form-group">
                                                                                    <div
                                                                                        class="form-line center profile-pic">
                                                                                        <img _ngcontent-hhc-c5=""
                                                                                            alt="user" width="60"
                                                                                            class="rounded-circle"
                                                                                            src="../../assets/images/user/usrbig7.jpg">
                                                                                        <input id="reportingImageUpload"
                                                                                            type="file"
                                                                                            name="profile_photo1"
                                                                                            placeholder="Photo"
                                                                                            required="" capture="">
                                                                                        <div class="edit1"><a
                                                                                                href="#"><i
                                                                                                    class="fa fa-pencil-alt"></i></a>
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="form-line">
                                                                                        <label for="name"
                                                                                            class="left">Name</label>
                                                                                        <input type="text" name="name"
                                                                                            class="form-control">
                                                                                    </div>
                                                                                    <div class="form-line">
                                                                                        <label for="title"
                                                                                            class="left">Title</label>
                                                                                        <input type="text" name="title"
                                                                                            class="form-control">
                                                                                    </div>

                                                                                    <div class="form-line center">
                                                                                        <button
                                                                                            class="btn-default1 btn canceladdReporting"
                                                                                            value="Cancel">Cancel</button>
                                                                                        <button
                                                                                            class="scorecard_save_btn"
                                                                                            value="Submit">Submit</button>
                                                                                    </div>
                                                                                </div>
                                                                            </form>
                                                                        </li>
                                                                    </ul>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row clearfix">
                            <!-- Basic Examples -->
                            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                                <div class="">
                                    <div class="body">
                                        <div class="row clearfix">
                                            <div class="col-xs-12 ol-sm-12 col-md-12 col-lg-12">
                                                <div class="panel-group" id="accordion_2" role="tablist"
                                                    aria-multiselectable="true">
                                                    <div class="panel">
                                                        <div class="panel-heading profile_direct" role="tab"
                                                            id="headingOne_2">
                                                            <h4 class="panel-title">
                                                                <a role="button" data-toggle="collapse"
                                                                    data-parent="#accordion_2" href="#collapseOne_2"
                                                                    aria-expanded="true" aria-controls="collapseOne_2">
                                                                    Direct Reportees
                                                                </a>
                                                            </h4>
                                                        </div>
                                                        <div id="collapseOne_2" class="panel-collapse collapse in"
                                                            role="tabpanel" aria-labelledby="headingOne_2">
                                                            <div class="panel-body profile_edit">
                                                                <div class="rightSetting">
                                                                    <!-- <p class="left">Direct Reportees</p> -->
                                                                    <a href="#" id="directAdd">
                                                                        <p class="right">Add</p>
                                                                    </a>
                                                                    <ul
                                                                        class="setting-list direct-default list-unstyled m-t-20">
                                                                        <li class="row reportingRow">
                                                                            <div class="col-md-3 p-b-10">
                                                                                <img _ngcontent-hhc-c5="" alt="user"
                                                                                    width="110" class="rounded-circle"
                                                                                    src="../../assets/images/user/usrbig6.jpg">
                                                                            </div>
                                                                            <div class="col-md-7 p-t-5">
                                                                                <p class="center name">Karthick</p>
                                                                                <p class="center grey1">Manager</p>

                                                                            </div>
                                                                            <div class="col-md-1" style="float: right;">
                                                                                <a href="#" class="directEdit"><i
                                                                                        class="fas fa-pencil-alt"
                                                                                        style="font-size: 14px"></i></a>
                                                                            </div>
                                                                        </li>
                                                                        <li class="row reportingRow">
                                                                            <div class="col-md-3 p-b-10">
                                                                                <img _ngcontent-hhc-c5="" alt="user"
                                                                                    width="110" class="rounded-circle"
                                                                                    src="../../assets/images/user/usrbig9.jpg">
                                                                            </div>
                                                                            <div class="col-md-7 p-t-5">
                                                                                <p class="center name">Naren</p>
                                                                                <p class="center grey1">Designer</p>

                                                                            </div>
                                                                            <div class="col-md-1" style="float: right;">
                                                                                <a href="#" class="directEdit"><i
                                                                                        class="fas fa-pencil-alt"
                                                                                        style="font-size: 14px"></i></a>
                                                                            </div>
                                                                        </li>
                                                                    </ul>
                                                                    <ul class="setting-list direct-replace-add list-unstyled m-t-20"
                                                                        style="display:none">
                                                                        <li class="row">
                                                                            <form id="directAddForm">
                                                                                <div class="form-group">
                                                                                    <div
                                                                                        class="form-line center profile-pic">
                                                                                        <img _ngcontent-hhc-c5=""
                                                                                            alt="user" width="60"
                                                                                            class="rounded-circle"
                                                                                            src="../../assets/images/user/usrbig7.jpg">
                                                                                        <input id="directImageUpload"
                                                                                            type="file"
                                                                                            name="profile_photo1"
                                                                                            placeholder="Photo"
                                                                                            required="" capture="">
                                                                                        <div class="edit1"><a
                                                                                                href="#"><i
                                                                                                    class="fa fa-pencil-alt"></i></a>
                                                                                        </div>

                                                                                    </div>
                                                                                    <div class="form-line">
                                                                                        <label for="name"
                                                                                            class="left">Name</label>
                                                                                        <input type="text" name="name"
                                                                                            class="form-control">
                                                                                    </div>
                                                                                    <div class="form-line">
                                                                                        <label for="title"
                                                                                            class="left">Title</label>
                                                                                        <input type="text" name="title"
                                                                                            class="form-control">
                                                                                    </div>

                                                                                    <div class="form-line center">
                                                                                        <button
                                                                                            class="btn-default1 btn canceladdDirect"
                                                                                            value="Cancel">Cancel</button>
                                                                                        <button
                                                                                            class="scorecard_save_btn"
                                                                                            value="Submit">Submit</button>
                                                                                    </div>
                                                                                </div>
                                                                            </form>
                                                                        </li>
                                                                    </ul>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row clearfix">
                            <!-- Basic Examples -->
                            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                                <div class="">
                                    <div class="body">
                                        <div class="row clearfix">
                                            <div class="col-xs-12 ol-sm-12 col-md-12 col-lg-12">
                                                <div class="panel-group" id="accordion_3" role="tablist"
                                                    aria-multiselectable="true">
                                                    <div class="panel">
                                                        <div class="panel-heading profile_responsilities" role="tab"
                                                            id="headingOne_3">
                                                            <h4 class="panel-title">
                                                                <a role="button" data-toggle="collapse"
                                                                    data-parent="#accordion_3" href="#collapseOne_3"
                                                                    aria-expanded="true" aria-controls="collapseOne_3">
                                                                    My Responsibilities
                                                                </a>
                                                            </h4>
                                                        </div>
                                                        <div id="collapseOne_3" class="panel-collapse collapse in"
                                                            role="tabpanel" aria-labelledby="headingOne_3">
                                                            <div class="panel-body profile_edit">
                                                                <ul class="ml-menu profile_accordion">
                                                                    <li>
                                                                        <a href="#">My KPI's</a>
                                                                    </li>
                                                                    <li>
                                                                        <a href="#">My Initiatives</a>
                                                                    </li>
                                                                    <li>
                                                                        <a href="#">My Activities</a>
                                                                    </li>
                                                                    <li>
                                                                        <a href="#">My Tasks</a>
                                                                    </li>
                                                                    <li>
                                                                        <a href="#">My Forms</a>
                                                                    </li>
                                                                </ul>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
        </div>
</div>
</aside>
<!-- #END# Right Sidebar -->

<!-- #END# FormEdit Sidebar -->

<!--#START Chart Popup -->
<div class="modal fade all_chart_popup" tabindex="-1" role="dialog" aria-labelledby="all_chart_popup"
    aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-lg" style="max-width: 80% !important;">
        <div class="modal-content">
            <div class="modal-header chart_kpi_title" style="background-color: #3A6596; color: #fff;">
                <div class="top-box">
                </div>
                <div class="span-text"></div>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-md-12">
                        <div class="kpi-box">
                        </div>
                        <div class="chart-box">
                        </div>
                    </div>
                    <div class="col-md-12">
                        <div class="chart_kpi_chart_box chart_kpi_box_size">
                            <div id="chartdiv_init999" class="divResize" style="height: 55vh;"></div>
                            <div id="tag"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!--#END Chart Popup -->

<section class="content">
    <!-- Page Header -->
    <div class="page-header row no-gutters py-2 m-t--70">
        <div class="col-lg-12 col-md-12 pt-2 mb-0 mr-4">
            <h4 class="page-title pull-right">
                Charts
            </h4>
        </div>
    </div>
    <!-- End Page Header -->
    <div class="container-fluid">

        <div class="row blockContainer" style="margin-top: 1%;">
            <div class="col-lg-3 col-md-3 col-sm-12 chartBlock" id="template" style="display:none">
                <div class="chart_container_bg">
                    <div class="chart_top_menu"
                        style="background-color: #3A6596; border-top-left-radius: 10px; border-top-right-radius: 10px;">
                        <div class="chart_top_menu_left">
                            <!-- <i class="fas fa-flag chart_kpi_flag" aria-hidden="true"></i> -->
                        </div>
                        <div class="chart_top_kpi_dropdown">
                            <div class="" style="margin-top: 5px;">
                                <select id="attachment" name="attachment" class="form_dropdown_text form_kpi"
                                    style="display: block; background-color: transparent; color: #fff; margin-left: 100px;">
                                    <option style="color: #444;">Implement formal compliance x result</option>
                                    <option style="color: #444;">Implement formal compliance y result</option>
                                    <option style="color: #444;">Implement formal compliance z result</option>
                                </select>
                            </div>
                        </div>
                        <div class="chart_top_menu_right" style="margin-right: -10%;">
                            <ul class="header-dropdown m-r--2 pt-2 d-flex">
                                <li class="dropdown m-t--5">
                                    <!-- <i class="fa fa-info-circle" aria-hidden="true" data-toggle="modal" data-target="#viewModal"></i> -->
                                    <a href="#" onclick="return false;" class="dropdown-toggle" data-toggle="dropdown"
                                        role="button" aria-haspopup="true" aria-expanded="true">
                                        <i class="fa fa-cog"
                                            style=" font-size: 13px; color: #e7e7e7; padding-left: 5px; margin-top: 10px; margin-bottom: -10px;"
                                            aria-hidden="true"></i>
                                    </a>
                                    <ul class="dropdown-menu pull-right" x-placement="bottom-start"
                                        style="position: absolute; will-change: transform; top: 0px; left: 0px; transform: translate3d(0px, 24px, 0px);">
                                        <li>
                                            <div class="">
                                                <div class="form-group kpi_create_initives mb-0 m-t-5"
                                                    style="text-align: initial;">
                                                    <label for="kpi_start_end_date">Chart Type</label>
                                                    <select name="sub_initative_desc" class="ml-4 chart-selection"
                                                        style="display: block;">
                                                        <option value="">--Chart Select--</option>
                                                        <option value="1">Standard Chart</option>
                                                        <option value="2">Bar Chart</option>
                                                        <option value="3">Line Chart</option>
                                                        <option value="4">Bar-Line Chart</option>
                                                        <option value="5">Pie Chart</option>
                                                        <option value="6">Area Chart</option>
                                                        <option value="7">Radar Chart</option>
                                                        <option value="8">Polar Chart</option>
                                                        <option value="9">Waterfall Chart</option>
                                                        <option value="10">Risk Chart</option>
                                                        <option value="11">Gantt Chart</option>
                                                    </select>
                                                </div>
                                            </div>

                                            <div class="settings_axis">
                                                <div class="chart_size">X-axis</div>
                                                <div class="chart_size">
                                                    <div class="form-group kpi_create_initives">
                                                        <select id="chart-selection-x" name="sub_initative_desc"
                                                            style="display: block;">
                                                            <option value="1">Actual</option>
                                                            <option value="2">Target</option>
                                                            <option value="3">Budget</option>
                                                            <option value="4">Forecast</option>
                                                            <option value="5">Gap</option>
                                                        </select>
                                                    </div>
                                                </div>
                                                <div class="chart_size">
                                                    <div class="form-group color_picks_1">
                                                        <div class="input-group">
                                                            <div class="input-group-append">
                                                                <span class="input-group-text pickr xAxisColor"></span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="settings_axis p-0 m-t--10">
                                                <div class="chart_size">Y-axis</div>
                                                <div class="chart_size">
                                                    <div class="form-group kpi_create_initives">
                                                        <select id="chart-selection-y" name="sub_initative_desc"
                                                            style="display: block;">
                                                            <option value="1">Actual</option>
                                                            <option value="2">Target</option>
                                                            <option value="3">Budget</option>
                                                            <option value="4">Forecast</option>
                                                            <option value="5">Gap</option>
                                                        </select>
                                                    </div>
                                                </div>
                                                <div class="chart_size">
                                                    <div class="form-group color_picks_1">
                                                        <div class="input-group">
                                                            <div class="input-group-append">
                                                                <span class="input-group-text pickr yAxisColor"></span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="">
                                                <div class="form-group">
                                                    <label for="kpi_start_end_date" class="m-0">Data field</label>
                                                    <select class="form-control browser-default mt-1 paramList1"
                                                        name="params[]" multiple="multiple">
                                                        <option value="1">Actual</option>
                                                        <option value="2">Target</option>
                                                        <option value="3">Budget</option>
                                                        <option value="4">Forecast</option>
                                                        <option value="5">Gap</option>
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="removeBlock"> Remove </div>
                                        </li>
                                    </ul>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <div class="chart_kpi_boxs">
                        <div class="chart_kpi_parameter param-budget">
                            <div class="" style="font-weight: 600;">Budget</div>
                            <div class="">8.31</div>
                        </div>
                        <div class="chart_kpi_parameter param-forecast">
                            <div class="" style="font-weight: 600;">Forecast</div>
                            <div class="">12.6</div>
                        </div>
                    </div>
                    <input type="hidden" class="selectVal" />
                    <div class="chart_kpi_chart_box chart_kpi_box_size" aria-hidden="true" data-toggle="modal"
                        data-target=".all_chart_popup">
                        <div class="chart-area divResize" style="height:25vh;"></div>
                        <div id="tag"></div>
                    </div>
                    <div class="chart_kpi_boxs" style="margin-top: -15px;">
                        <div class="chart_kpi_parameter param-actual">
                            <div class="" style="font-weight: 600;">Actual</div>
                            <div class="">10.56</div>
                        </div>
                        <div class="chart_kpi_parameter param-target">
                            <div class="" style="font-weight: 600;">Target</div>
                            <div class="">88.7</div>
                        </div>
                        <div class="chart_kpi_parameter param-gap">
                            <div class="" style="font-weight: 600;">Gap</div>
                            <div class="">10.5</div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-lg-3 col-md-3 col-sm-12 chartBlock">
                <div class="chart_container_bg">
                    <div class="chart_top_menu"
                        style="background-color: #3A6596; border-top-left-radius: 10px; border-top-right-radius: 10px;">
                        <div class="chart_top_menu_left">
                            <!-- <i class="fas fa-flag chart_kpi_flag" aria-hidden="true"
                                        ></i> -->
                        </div>
                        <div class="chart_top_kpi_dropdown">
                            <div class="" style="margin-top: 5px;">
                                <select id="attachment" name="attachment" class="form_dropdown_text form_kpi"
                                    style="display: block; background-color: transparent; color: #fff; margin-left: 100px;">
                                    <option style="color: #444;">Implement formal compliance x result</option>
                                    <option style="color: #444;">Implement formal compliance y result</option>
                                    <option style="color: #444;">Implement formal compliance z result</option>
                                </select>
                            </div>
                        </div>
                        <div class="chart_top_menu_right" style="margin-right: -10%;">
                            <ul class="header-dropdown pt-2 d-flex">
                                <li class="dropdown m-t--5">
                                    <!-- <i class="fa fa-info-circle" aria-hidden="true" data-toggle="modal" data-target="#viewModal"></i> -->
                                    <a href="#" onclick="return false;" class="dropdown-toggle" data-toggle="dropdown"
                                        role="button" aria-haspopup="true" aria-expanded="true">
                                        <i class="fa fa-cog"
                                            style=" font-size: 13px; color: #e7e7e7; padding-left: 5px; margin-top: 10px; margin-bottom: -10px;"
                                            aria-hidden="true"></i>
                                    </a>
                                    <ul class="dropdown-menu pull-right" x-placement="bottom-start"
                                        style="position: absolute; will-change: transform; top: 0px; left: 0px; transform: translate3d(0px, 24px, 0px);">
                                        <li>
                                            <div class="">
                                                <div class="form-group kpi_create_initives mb-0 m-t-5"
                                                    style="text-align: initial;">
                                                    <label for="kpi_start_end_date">Chart Type</label>
                                                    <select id="1" name="sub_initative_desc"
                                                        class="ml-4 chart-selection" style="display: block;">
                                                        <option value="">--Chart Select--</option>
                                                        <option value="1">Standard Chart</option>
                                                        <option value="2">Bar Chart</option>
                                                        <option value="3">Line Chart</option>
                                                        <option value="4">Bar-Line Chart</option>
                                                        <option value="5">Pie Chart</option>
                                                        <option value="6">Area Chart</option>
                                                        <option value="7">Radar Chart</option>
                                                        <option value="8">Polar Chart</option>
                                                        <option value="9">Waterfall Chart</option>
                                                        <option value="10">Risk Chart</option>
                                                        <option value="11">Gantt Chart</option>
                                                    </select>
                                                </div>
                                            </div>

                                            <div class="settings_axis">
                                                <div class="chart_size">X-axis</div>
                                                <div class="chart_size">
                                                    <div class="form-group kpi_create_initives">
                                                        <select id="chart-selection-x" name="sub_initative_desc"
                                                            style="display: block;">
                                                            <option value="1">Actual</option>
                                                            <option value="2">Target</option>
                                                            <option value="3">Budget</option>
                                                            <option value="4">Forecast</option>
                                                            <option value="5">Gap</option>
                                                        </select>
                                                    </div>
                                                </div>
                                                <div class="chart_size">
                                                    <div class="form-group color_picks_1">
                                                        <div class="input-group">
                                                            <div class="input-group-append">
                                                                <span class="input-group-text pickr xAxisColor"></span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="settings_axis p-0 m-t--10">
                                                <div class="chart_size">Y-axis</div>
                                                <div class="chart_size">
                                                    <div class="form-group kpi_create_initives">
                                                        <select id="chart-selection-y" name="sub_initative_desc"
                                                            style="display: block;">
                                                            <option value="1">Actual</option>
                                                            <option value="2">Target</option>
                                                            <option value="3">Budget</option>
                                                            <option value="4">Forecast</option>
                                                            <option value="5">Gap</option>
                                                        </select>
                                                    </div>
                                                </div>
                                                <div class="chart_size">
                                                    <div class="form-group color_picks_1">
                                                        <div class="input-group">
                                                            <div class="input-group-append">
                                                                <span class="input-group-text pickr yAxisColor"></span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="">
                                                <div class="form-group m-t--10">
                                                    <label for="kpi_start_end_date" class="m-0">Data field</label>
                                                    <select class="form-control browser-default mt-1 paramList"
                                                        name="params[]" multiple="multiple">
                                                        <!-- <option value="">Choose</option>                                                                     -->
                                                        <option value="1">Actual</option>
                                                        <option value="2">Target</option>
                                                        <option value="3">Budget</option>
                                                        <option value="4">Forecast</option>
                                                        <option value="5">Gap</option>
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="removeBlock"> Remove </div>
                                        </li>
                                    </ul>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <div class="chart_kpi_boxs">
                        <div class="chart_kpi_parameter param-budget">
                            <div class="" style="font-weight: 600;">Budget</div>
                            <div class="">8.31</div>
                        </div>
                        <div class="chart_kpi_parameter param-forecast">
                            <div class="" style="font-weight: 600;">Forecast</div>
                            <div class="">12.6</div>
                        </div>
                    </div>
                    <input type="hidden" class="selectVal" />
                    <div class="chart_kpi_chart_box chart_kpi_box_size" aria-hidden="true" data-toggle="modal"
                        data-target=".all_chart_popup">
                        <div id="chartdiv_init1" class="divResize" style="height: 25vh;"></div>
                        <div id="tag"></div>
                    </div>
                    <div class="chart_kpi_boxs" style="margin-top: -15px;">
                        <div class="chart_kpi_parameter param-actual">
                            <div class="" style="font-weight: 600;">Actual</div>
                            <div class="">10.56</div>
                        </div>
                        <div class="chart_kpi_parameter param-target">
                            <div class="" style="font-weight: 600;">Target</div>
                            <div class="">88.7</div>
                        </div>
                        <div class="chart_kpi_parameter param-gap">
                            <div class="" style="font-weight: 600;">Gap</div>
                            <div class="">10.5</div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-3 col-md-3 col-sm-12 chartBlock">
                <button class="btn add-block" style="background-color: #3A6596; color: #fff;">Add New Block</button>
                <!-- <a href="#" class="add-block">Add New Block</a> -->
            </div>
        </div>
    </div>
</section>
</div>
<!-- Plugins Js -->
<script src="../../assets/js/app.min.js"></script>
<!-- Custom Js -->
<script src="../../assets/js/admin.js"></script>
<script src="../../assets/js/bundles/amcharts4/core.js"></script>
<script src="../../assets/js/bundles/amcharts4/charts.js"></script>
<script src="../../assets/js/bundles/amcharts4/animated.js"></script>
<!-- Knob Js -->
<script src="../../assets/jquery-ui.min.js"></script>
<script src="../../assets/moment.js"></script>
<!-- <script src="../../assets/daterangepicker.min.js"></script> -->
<script src="../../assets/d3.v3.min.js"></script>
<!-- <script src="../../assets/d3.v4.js"></script> -->
<script src="../../assets/d3pie.min.js"></script>
<script src="../../assets/js/pages/todo/todo.js"></script>
<script src="../../assets/js/bundles/datamaps/d3.min.js"></script>
<script src="../../assets/js/bundles/datamaps/topojson.min.js"></script>
<script src="../../assets/js/bundles/datamaps/datamaps.world.min.js"></script>
<script src="../../assets/js/pages/maps/datamap.js"></script>
<script src="../../assets/moment.js"></script>
<script src="../../assets/js/bootstrap.bundle.min.js"></script>
<script src="../../assets/jquery.editable.min.js"></script>
<script src="../../assets/pickr.es5.min.js"></script>
<script src="../../assets/datepickerair.js"></script>
<script src="../../assets/datepicker.en.js"></script>
<script src="../../assets/js/widgets.js"></script>
<script src="../../assets/knockout-3.5.0.js"></script>
<script src="../../assets/daterangepicker/daterangepicker.min.js"></script>
<script src="../../assets/js/jquery.ba-resize.js"></script>
<script src="../../assets/RadarChart.js"></script>
<script src="../../assets/plotly-latest.min.js"></script>
<script src="../../assets/suncalc.js"></script>
<script src="../../assets/chart-utils.js"></script>
<script src="../../assets/bar3d.js"></script>
<script src="../../assets/lodash.min.js"></script>
<script src="../../assets/loader.js"></script>
<!-- <script src="../../assets/js/pages/widgets/chart-widget.js"></script> -->
<script src="../../assets/select2.min.js"></script>
<script>
    $(".daterangepicker-field").daterangepicker({
        forceUpdate: true,
        callback: function (startDate, endDate, period) {
            var title = startDate.format('L') + ' – ' + endDate.format('L');
            $(this).val(title)
        }
    });
    // var pie;
    // drawChart();

    // (function() {
    //     var blocks = $('.chartBlock');
    //     var count = blocks.length - 1;
    //     for (var i = 0; i < count; i++) {
    //         drawChart(i);
    //     }
    // })();

    $(".divResize").resize(function (e) {
        var blocks = $('.chartBlock');
        var count = blocks.length - 1;

        for (var i = 0; i < count; i++) {
            $('#chartdiv_init' + i).empty();
            drawChart(i);
        }
    });

    $(document).ready(function () {

        $('.param-actual').hide();
        $('.param-budget').hide();
        $('.param-target').hide();
        $('.param-forecast').hide();
        $('.param-gap').hide();
    });

    function getHeight(divId) {
        var innerHeight = $('#chartdiv_init' + divId).innerHeight();
        return innerHeight;
    }

    function getWidth(divId) {
        var innerWidth = $('#chartdiv_init' + divId).innerWidth();
        if (innerWidth <= 0)
            innerWidth = 430;
        return innerWidth;
    }

    function drawChart(divId, xColor, yColor, defaultVal) {
        var value = $('#' + divId).val();
        if ((value == undefined || value == '') && (defaultVal != undefined || defaultVal != '')) {
            value = defaultVal;
        }
        // console.log('value: ', value);
        if (value == '1') {
            $('#chartdiv_init' + divId).empty();
            drawStandard(divId, xColor, yColor);
        }
        if (value == '2') {
            $('#chartdiv_init' + divId).empty();
            drawBar(divId, xColor, yColor);
        }
        if (value == '3') {
            $('#chartdiv_init' + divId).empty();
            drawLine(divId, xColor, yColor);
        }
        if (value == '4') {
            $('#chartdiv_init' + divId).empty();
            drawBarLine(divId, xColor, yColor);
        }
        if (value == '5') {
            $('#chartdiv_init' + divId).empty();
            drawPie(divId);
        }
        if (value == '6') {
            $('#chartdiv_init' + divId).empty();
            drawArea(divId, xColor, yColor);
        }
        if (value == '7') {
            $('#chartdiv_init' + divId).empty();
            drawRadar(divId);
        }
        if (value == '8') {
            $('#chartdiv_init' + divId).empty();
            drawPolar(divId);
        }
        if (value == '9') {
            $('#chartdiv_init' + divId).empty();
            drawWaterFall(divId, xColor, yColor);
        }
        if (value == '10') {
            $('#chartdiv_init' + divId).empty();
            drawRisk(divId, xColor, yColor);
        }
        if (value == '11') {
            $('#chartdiv_init' + divId).empty();
            drawGantt(divId);
        }
    }

    function drawGantt(divId) {
        google.charts.load('current', {
            'packages': ['gantt']
        });
        google.charts.setOnLoadCallback(drawChart1);

        function drawChart1() {

            var data = new google.visualization.DataTable();
            data.addColumn('string', 'Task ID');
            data.addColumn('string', 'Task Name');
            data.addColumn('string', 'Resource');
            data.addColumn('date', 'Start Date');
            data.addColumn('date', 'End Date');
            data.addColumn('number', 'Duration');
            data.addColumn('number', 'Percent Complete');
            data.addColumn('string', 'Dependencies');

            data.addRows([
                ['2014Spring', 'Spring 2014', 'spring',
                    new Date(2014, 2, 22), new Date(2014, 5, 20), null, 100, null
                ],
                ['2014Summer', 'Summer 2014', 'summer',
                    new Date(2014, 5, 21), new Date(2014, 8, 20), null, 100, null
                ],
                ['2014Autumn', 'Autumn 2014', 'autumn',
                    new Date(2014, 8, 21), new Date(2014, 11, 20), null, 100, null
                ],
                ['2014Winter', 'Winter 2014', 'winter',
                    new Date(2014, 11, 21), new Date(2015, 2, 21), null, 100, null
                ],
                ['2015Spring', 'Spring 2015', 'spring',
                    new Date(2015, 2, 22), new Date(2015, 5, 20), null, 50, null
                ],
                ['2015Summer', 'Summer 2015', 'summer',
                    new Date(2015, 5, 21), new Date(2015, 8, 20), null, 0, null
                ],
                ['2015Autumn', 'Autumn 2015', 'autumn',
                    new Date(2015, 8, 21), new Date(2015, 11, 20), null, 0, null
                ],
                ['2015Winter', 'Winter 2015', 'winter',
                    new Date(2015, 11, 21), new Date(2016, 2, 21), null, 0, null
                ],
                ['Football', 'Football Season', 'sports',
                    new Date(2014, 8, 4), new Date(2015, 1, 1), null, 100, null
                ],
                ['Baseball', 'Baseball Season', 'sports',
                    new Date(2015, 2, 31), new Date(2015, 9, 20), null, 14, null
                ],
                ['Basketball', 'Basketball Season', 'sports',
                    new Date(2014, 9, 28), new Date(2015, 5, 20), null, 86, null
                ],
                ['Hockey', 'Hockey Season', 'sports',
                    new Date(2014, 9, 8), new Date(2015, 5, 21), null, 89, null
                ]
            ]);

            var options = {
                height: getHeight(divId),
                gantt: {
                    trackHeight: 30
                }
            };

            var chart = new google.visualization.Gantt(document.getElementById('chartdiv_init' + divId));

            chart.draw(data, options);

        }

    }

    function drawRisk(divId, xColor, yColor) {
        var margin = {
            top: 40,
            right: 20,
            bottom: 30,
            left: 40
        },
            width = getWidth(divId) - margin.left - margin.right,
            height = getHeight(divId) - margin.top - margin.bottom;

        var now = new Date(),
            start = d3.time.year.floor(now),
            end = d3.time.year.ceil(now);
        var x = d3.time.scale()
            .range([0, width])
            .domain([start, end]);
        var y = d3.scale.linear()
            .range([height, 0])
            .domain([-90, 90]);
        var color = d3.scale.linear()
            .domain([90, 60, 30, 0])
            .range(['#D7191C', '#FDAE61', '#ABD9E9', '#2C7BB6']);
        var xAxis = d3.svg.axis()
            .scale(x)
            .orient('bottom');
        var yAxis = d3.svg.axis()
            .scale(y)
            .orient('left');
        var svg = d3.select('#chartdiv_init' + divId).append('svg')
            .attr('width', width + margin.left + margin.right)
            .attr('height', height + margin.top + margin.bottom)
            .append('g')
            .attr('transform', 'translate(' + margin.left + ',' + margin.top + ')');
        // console.log(svg);
        var data = [],
            latitudes = y.ticks(90),
            days = d3.range(0, 365, 2).map(function (i) {
                return d3.time.day.offset(start, i);
            });
        for (var i = 0, len = latitudes.length - 1; i < len; i++) {
            for (var j = 0, len2 = days.length - 1; j < len2; j++) {
                var day1 = days[j],
                    day2 = days[j + 1],
                    lat1 = latitudes[i],
                    lat2 = latitudes[i + 1],
                    day = new Date((day1.valueOf() + day2.valueOf()) / 2),
                    lat = (lat1 + lat2) / 2;
                var solarNoon = SunCalc.getTimes(day, lat, 0).solarNoon;
                var altitude = SunCalc.getPosition(solarNoon, lat, 0).altitude * 180 / Math.PI;
                data.push({
                    day1: day1,
                    day2: day2,
                    lat1: lat1,
                    lat2: lat2,
                    altitude: altitude
                });
            }
        }
        svg.selectAll('.cell')
            .data(data)
            .enter().append('rect')
            .attr('x', function (d) {
                return x(d.day1);
            })
            .attr('y', function (d) {
                return y(d.lat2);
            })
            .attr('width', function (d) {
                return x(d.day2) - x(d.day1);
            })
            .attr('height', function (d) {
                return y(d.lat1) - y(d.lat2);
            })
            .attr('fill', function (d) {
                return color(d.altitude);
            });
        svg.append("g")
            .attr("class", "x axis")
            .attr("transform", "translate(0," + height + ")")
            .attr('fill', xColor)
            .call(xAxis);
        svg.append("g")
            .attr("class", "y axis")
            .attr('fill', yColor)
            .call(yAxis);
    }

    function drawPolar(divId) {

        var margin = {
            top: 10,
            right: 10,
            bottom: 10,
            left: 10
        },
            width = getWidth(divId) - margin.left - margin.right,
            height = getHeight(divId) - margin.top - margin.bottom;

        data = [{
            type: "scatterpolar",
            mode: "lines",
            r: [0, 1.5, 1.5, 0, 2.5, 2.5, 0],
            theta: [0, 10, 25, 0, 205, 215, 0],
            fill: "toself",
            fillcolor: '#709BFF',
            line: {
                color: 'black'
            }
        }, {
            type: "scatterpolar",
            mode: "lines",
            r: [0, 3.5, 3.5, 0],
            theta: [0, 55, 75, 0],
            fill: "toself",
            fillcolor: '#E4FF87',
            line: {
                color: 'black'
            }
        }, {
            type: "scatterpolar",
            mode: "lines",
            r: [0, 4.5, 4.5, 0, 4.5, 4.5, 0],
            theta: [0, 100, 120, 0, 305, 320, 0],
            fill: "toself",
            fillcolor: '#FFAA70',
            line: {
                color: 'black'
            }
        }, {
            type: "scatterpolar",
            mode: "lines",
            r: [0, 4, 4, 0],
            theta: [0, 165, 195, 0],
            fill: "toself",
            fillcolor: '#FFDF70',
            line: {
                color: 'black'
            }
        }, {
            type: "scatterpolar",
            mode: "lines",
            r: [0, 3, 3, 0],
            theta: [0, 262.5, 277.5, 0],
            fill: "toself",
            fillcolor: '#B6FFB4',
            line: {
                color: 'black'
            }
        }]

        layout = {
            autosize: false,
            width: width,
            height: height,
            polar: {
                radialaxis: {
                    visible: true,
                    range: [0, 5]
                }
            },
            showlegend: false
        }


        Plotly.newPlot('chartdiv_init' + divId, data, layout, {
            modeBarButtonsToRemove: ['sendDataToCloud', 'autoScale2d', 'hoverClosestCartesian', 'hoverCompareCartesian', 'lasso2d', 'select2d'],
            displaylogo: false,
            showTips: true
        })
        $('.modebar-container').hide();
    }

    function drawArea(divId, xColor, yColor) {
        var margin = {
            top: 40,
            right: 20,
            bottom: 30,
            left: 40
        },
            width = getWidth(divId) - margin.left - margin.right,
            height = getHeight(divId) - margin.top - margin.bottom;

        var parseDate = d3.time.format("%b").parse;
        //formatPercent = d3.format(".0%");

        var x = d3.time.scale()
            .range([0, width]);

        var y = d3.scale.linear()
            .range([height, 0]);

        var color = d3.scale.category20();

        var xAxis = d3.svg.axis()
            .scale(x)
            .orient("bottom");

        var yAxis = d3.svg.axis()
            .scale(y)
            .orient("left")
        //.tickFormat(formatPercent);

        var area = d3.svg.area()
            .x(function (d) {
                return x(d.date);
            })
            .y0(function (d) {
                return y(d.y0);
            })
            .y1(function (d) {
                return y(d.y0 + d.y);
            });

        var stack = d3.layout.stack()
            .values(function (d) {
                return d.values;
            });

        var svg = d3.select("#chartdiv_init" + divId).append("svg")
            .attr("width", width + margin.left + margin.right)
            .attr("height", height + margin.top + margin.bottom)
            .append("g")
            .attr("transform", "translate(" + margin.left + "," + margin.top + ")");

        var data = [{
            "date": "Oct",
            "Kermit": 113.44,
            "piggy": 435.15,
            "Gonzo": 19.57,
            "fuzzy": 60.55,
            "hogthrob": 53.02,
            "animal": 268.28,
            "floyd": 87.34,
            "sam": 11.31
        }, {
            "date": "Nov",
            "Kermit": 109.86,
            "piggy": 506.85,
            "Gonzo": 18.97,
            "fuzzy": 58.77,
            "hogthrob": 388.37,
            "animal": 131.48,
            "floyd": 85.34,
            "sam": 11.31
        }, {
            "date": "Dec",
            "Kermit": 113.46,
            "piggy": 644.88,
            "Gonzo": 19.57,
            "fuzzy": 60.57,
            "hogthrob": 669.47,
            "animal": 0,
            "floyd": 87.46,
            "sam": 11.43
        }];
        color.domain(d3.keys(data[0]).filter(function (key) {
            return key !== "date";
        }));
        data.forEach(function (d) {
            d.date = parseDate(d.date);
        });

        var browsers = stack(color.domain().map(function (name) {
            return {
                name: name,
                values: data.map(function (d) {
                    return {
                        date: d.date,
                        y: d[name] * 1
                    };
                })
            };
        }));

        // Find the value of the day with highest total value
        var maxDateVal = d3.max(data, function (d) {
            var vals = d3.keys(d).map(function (key) {
                return key !== "date" ? d[key] : 0
            });
            return d3.sum(vals);
        });

        // Set domains for axes
        x.domain(d3.extent(data, function (d) {
            return d.date;
        }));
        y.domain([0, maxDateVal])

        var browser = svg.selectAll(".browser")
            .data(browsers)
            .enter().append("g")
            .attr("class", "browser");

        browser.append("path")
            .attr("class", "area")
            .attr("d", function (d) {
                return area(d.values);
            })
            .style("fill", function (d) {
                return color(d.name);
            });

        browser.append("text")
            .datum(function (d) {
                return {
                    name: d.name,
                    value: d.values[d.values.length - 1]
                };
            })
            .attr("transform", function (d) {
                return "translate(" + x(d.value.date) + "," + y(d.value.y0 + d.value.y / 2) + ")";
            })
            .attr("x", -6)
            .attr("dy", ".35em")
            .text(function (d) {
                return d.name;
            });

        svg.append("g")
            .attr("class", "x axis")
            .attr("transform", "translate(0," + height + ")")
            .attr('fill', xColor)
            .call(xAxis);

        svg.append("g")
            .attr("class", "y axis")
            .attr('fill', yColor)
            .call(yAxis);

    }

    function drawBarLine(divId, xColor, yColor) {
        var data = [{
            date: '1-May-12',
            close: 58.13,
            open: 7.41
        }, {
            date: '2-May-12',
            close: 53.98,
            open: 45.55
        }, {
            date: '3-May-12',
            close: 67.00,
            open: 11.78
        }];

        var margin = {
            top: 40,
            right: 20,
            bottom: 30,
            left: 40
        },
            width = getWidth(divId) - margin.left - margin.right,
            height = getHeight(divId) - margin.top - margin.bottom;

        var parseDate = d3.time.format("%d-%b-%y").parse;

        var x = d3.scale.ordinal().rangeBands([0, width], .09); // <-- to change the width of the columns, change the .09 at the end to whatever
        var y = d3.scale.linear().range([height, 0]);

        var xAxis = d3.svg.axis().scale(x)
            .orient("bottom")
            .tickFormat(d3.time.format("%d-%b-%y"));

        var yAxisLeft = d3.svg.axis().scale(y)
            .orient("left");

        var valueline = d3.svg.line()
            .x(function (d) {
                return x(d.date) + x.rangeBand() / 2;
            })
            .y(function (d) {
                return y(d.open);
            });

        var svg = d3.select("#chartdiv_init" + divId)
            .append("svg")
            .attr("width", width + margin.left + margin.right)
            .attr("height", height + margin.top + margin.bottom)
            .append("g")
            .attr("transform",
                "translate(" + margin.left + "," + margin.top + ")");

        // Get the data
        data.forEach(function (d) {
            d.date = parseDate(d.date);
            d.close = +d.close;
            d.open = +d.open;
        });

        // Scale the range of the data
        x.domain(data.map(function (d) {
            return d.date;
        }));
        y.domain([0, d3.max(data, function (d) {
            return d.close;
        })]);

        // Add the X Axis
        svg.append("g")
            .attr("class", "x axis")
            .attr("transform", "translate(0," + height + ")")
            .style("fill", xColor)
            .call(xAxis);

        // Add the Y Axis
        svg.append("g")
            .attr("class", "y axis")
            .style("fill", yColor)
            .call(yAxisLeft);

        // Draw the bars
        svg.selectAll("bar")
            .data(data)
            .enter()
            .append("rect")
            .style("fill", "#99ffcc")
            .attr("x", function (d) {
                return x(d.date);
            })
            .attr("width", x.rangeBand())
            .attr("y", function (d) {
                return y(d.close);
            })
            .attr("height", function (d) {
                return height - y(d.close);
            });

        // Add the valueline path
        svg.append("path")
            .attr("d", valueline(data));

    }

    function drawLine(divId, xColor, yColor) {
        // Set the dimensions of the canvas / graph
        var margin = {
            top: 20,
            right: 20,
            bottom: 30,
            left: 40
        },
            width = getWidth(divId) - margin.left - margin.right,
            height = getHeight(divId) - margin.top - margin.bottom;
        // console.log(divId);
        // console.log(height);
        // console.log(getWidth(999));
        // Parse the date / time
        var parseDate = d3.time.format("%d-%b-%y").parse;

        // Set the ranges
        var x = d3.time.scale().range([0, width]);
        var y = d3.scale.linear().range([height, 0]);

        // Define the axes
        var xAxis = d3.svg.axis().scale(x)
            .orient("bottom").ticks(5);

        var yAxis = d3.svg.axis().scale(y)
            .orient("left").ticks(5);

        // Define the line
        var valueline = d3.svg.line()
            .x(function (d) {
                return x(d.date);
            })
            .y(function (d) {
                return y(d.close);
            });

        // Adds the svg canvas
        var svg = d3.select("#chartdiv_init" + divId)
            .append("svg")
            .attr("width", width + margin.left + margin.right)
            .attr("height", height + margin.top + margin.bottom)
            .append("g")
            .attr("transform", "translate(" + margin.left + "," + margin.top + ")");

        // Get the data
        var data = [{
            "date": "1-May-12",
            "close": 58.13
        }, {
            "date": "30-Apr-12",
            "close": 53.98
        }, {
            "date": "27-Apr-12",
            "close": 67
        }, {
            "date": "26-Apr-12",
            "close": 89.7
        }, {
            "date": "25-Apr-12",
            "close": 99
        }, {
            "date": "24-Apr-12",
            "close": 130.28
        }, {
            "date": "23-Apr-12",
            "close": 166.7
        }, {
            "date": "20-Apr-12",
            "close": 234.98
        }, {
            "date": "19-Apr-12",
            "close": 345.44
        }, {
            "date": "18-Apr-12",
            "close": 443.34
        }, {
            "date": "17-Apr-12",
            "close": 543.7
        }, {
            "date": "16-Apr-12",
            "close": 580.13
        }, {
            "date": "13-Apr-12",
            "close": 605.23
        }, {
            "date": "12-Apr-12",
            "close": 622.77
        }, {
            "date": "11-Apr-12",
            "close": 626.2
        }, {
            "date": "10-Apr-12",
            "close": 628.44
        }, {
            "date": "9-Apr-12",
            "close": 636.23
        }, {
            "date": "5-Apr-12",
            "close": 633.68
        }, {
            "date": "4-Apr-12",
            "close": 624.31
        }, {
            "date": "3-Apr-12",
            "close": 629.32
        }, {
            "date": "2-Apr-12",
            "close": 618.63
        }, {
            "date": "30-Mar-12",
            "close": 599.55
        }, {
            "date": "29-Mar-12",
            "close": 609.86
        }, {
            "date": "28-Mar-12",
            "close": 617.62
        }, {
            "date": "27-Mar-12",
            "close": 614.48
        }, {
            "date": "26-Mar-12",
            "close": 606.98
        }];
        data.forEach(function (d) {
            d.date = parseDate(d.date);
            d.close = +d.close;
        });

        // Scale the range of the data
        x.domain(d3.extent(data, function (d) {
            return d.date;
        }));
        y.domain([0, d3.max(data, function (d) {
            return d.close;
        })]);

        // Add the valueline path.
        svg.append("path")
            .attr("class", "line")
            .attr("d", valueline(data));

        // Add the X Axis
        svg.append("g")
            .attr("class", "x axis")
            .attr("transform", "translate(0," + height + ")")
            .attr('fill', xColor)
            .call(xAxis);

        // Add the Y Axis
        svg.append("g")
            .attr("class", "y axis")
            .attr('fill', yColor)
            .call(yAxis);



    }

    function drawRadar(divId) {
        var margin = {
            top: 30,
            right: 60,
            bottom: 30,
            left: 80
        },
            width = getWidth(divId) - margin.left - margin.right,
            height = getHeight(divId) - margin.top - margin.bottom;

        var data = [
            [ //iPhone
                {
                    axis: "Battery",
                    value: 0.22
                }, {
                    axis: "Brand",
                    value: 0.28
                }, {
                    axis: "Contract",
                    value: 0.29
                }, {
                    axis: "Quality",
                    value: 0.17
                }, {
                    axis: "Internet",
                    value: 0.22
                }, {
                    axis: "Screen",
                    value: 0.02
                }, {
                    axis: "Price",
                    value: 0.21
                }, {
                    axis: "Smartphone",
                    value: 0.50
                }
            ],
            [ //Samsung
                {
                    axis: "Battery",
                    value: 0.27
                }, {
                    axis: "Brand",
                    value: 0.16
                }, {
                    axis: "Contract",
                    value: 0.35
                }, {
                    axis: "Quality",
                    value: 0.13
                }, {
                    axis: "Internet",
                    value: 0.20
                }, {
                    axis: "Screen",
                    value: 0.13
                }, {
                    axis: "Device",
                    value: 0.35
                }, {
                    axis: "Smartphone",
                    value: 0.38
                }
            ],
            [ //Nokia Smartphone
                {
                    axis: "Battery",
                    value: 0.26
                }, {
                    axis: "Brand",
                    value: 0.10
                }, {
                    axis: "Contract",
                    value: 0.30
                }, {
                    axis: "Quality",
                    value: 0.14
                }, {
                    axis: "Internet",
                    value: 0.22
                }, {
                    axis: "Screen",
                    value: 0.04
                }, {
                    axis: "Price",
                    value: 0.41
                }, {
                    axis: "Smartphone",
                    value: 0.30
                }
            ]
        ];
        var color = d3.scale.ordinal()
            .range(["#EDC951", "#CC333F", "#00A0B0"]);

        var radarChartOptions = {
            w: width,
            h: height,
            margin: margin,
            maxValue: 0.5,
            levels: 5,
            roundStrokes: true,
            color: color
        };
        //Call function to draw the Radar chart
        RadarChart.draw("#chartdiv_init" + divId, data, radarChartOptions);

    }

    function drawWaterFall(divId, xColor, yColor) {
        var margin = {
            top: 40,
            right: 20,
            bottom: 30,
            left: 40
        },
            width = getWidth(divId) - margin.left - margin.right,
            height = getHeight(divId) - margin.top - margin.bottom;
        var x0 = d3.scale.ordinal()
            .rangeRoundBands([0, width], 0, .1);

        var x1 = d3.scale.ordinal();

        var y = d3.scale.linear()
            .range([height, 0]);

        var color = d3.scale.ordinal()
            .range(["#2DBAD4", "#33CC33", "#00E6B8", "#C9081D"]);

        var xAxis = d3.svg.axis()
            .scale(x0)
            .orient("bottom");

        var yAxis = d3.svg.axis()
            .scale(y)
            .orient("left")
            .tickFormat(d3.format(".2s"));

        var svg = d3.select("#chartdiv_init" + divId).append("svg")
            .attr("width", width + margin.left + margin.right)
            .attr("height", height + margin.top + margin.bottom)
            .append("g")
            .attr("transform", "translate(" + margin.left + "," + margin.top + ")");

        var data = [{
            "period": "Four Weeks Ago",
            "start of period": 100,
            "new": 20,
            "returned": 30,
            "went inactive": 40
        }, {
            "period": "Three Weeks Ago",
            "start of period": 110,
            "new": 30,
            "returned": 20,
            "went inactive": 30
        }, {
            "period": "Two Weeks Ago",
            "start of period": 130,
            "new": 40,
            "returned": 25,
            "went inactive": 40
        }, {
            "period": "One Week Ago",
            "start of period": 155,
            "new": 30,
            "returned": 55,
            "went inactive": 50
        }, {
            "period": "Current Week",
            "start of period": 190,
            "new": 0,
            "returned": 0,
            "went inactive": 0
        }];
        var categories = d3.keys(data[0]).filter(function (key) {
            return key !== "period";
        });

        data.forEach(function (d) {
            //first calculate the starting height for each category
            total = 0
            totals = {}
            for (var i = 0; i < categories.length; i++) {
                if (i == 3) {
                    total = total - +d[categories[i]];
                    totals[categories[i]] = total;
                } else {
                    totals[categories[i]] = total;
                    total += +d[categories[i]];
                }
            }
            //then map category name, value, and starting height to each observation
            d.formatted = categories.map(function (category) {
                return {
                    name: category,
                    value: +d[category],
                    baseHeight: +totals[category]
                };
            });
        });

        x0.domain(data.map(function (d) {
            return d.period;
        }));
        x1.domain(categories).rangeRoundBands([0, x0.rangeBand()]);
        y.domain([0, d3.max(data, function (d) {
            return d3.max(d.formatted, function (d) {
                return d.value + d.baseHeight;
            });
        })]);

        svg.append("g")
            .attr("class", "x axis")
            .attr("transform", "translate(0," + height + ")")
            .attr('fill', xColor)
            .call(xAxis);

        svg.append("g")
            .attr("class", "y axis")
            .attr('fill', yColor)
            .call(yAxis)
            .append("text")
            .attr("transform", "rotate(-90)")
            .attr("y", 6)
            .attr("dy", ".71em")
            .style("text-anchor", "end")
            .text("Customers");

        var state = svg.selectAll(".state")
            .data(data)
            .enter().append("g")
            .attr("class", "g")
            .attr("transform", function (d) {
                return "translate(" + x0(d.period) + ",0)";
            });

        state.selectAll("rect")
            .data(function (d) {
                return d.formatted;
            })
            .enter().append("rect")
            .attr("width", x1.rangeBand())
            .attr("x", function (d) {
                return x1(d.name);
            })
            .attr("y", function (d) {
                return y(d.value + d.baseHeight);
            })
            .attr("height", function (d) {
                return height - y(d.value);
            })
            .style("fill", function (d) {
                return color(d.name);
            });
    }

    function drawBar(divId, xColor, yColor) {
        var margin = {
            top: 40,
            right: 20,
            bottom: 30,
            left: 40
        },
            // width = 960 - margin.left - margin.right,
            // height = 500 - margin.top - margin.bottom;
            width = getWidth(divId) - margin.left - margin.right,
            height = getHeight(divId) - margin.top - margin.bottom;

        var formatPercent = d3.format(".0%");

        var x = d3.scale.ordinal()
            .rangeRoundBands([0, width], .1);

        var y = d3.scale.linear()
            .range([height, 0]);

        var xAxis = d3.svg.axis()
            .scale(x)
            .orient("bottom");

        var yAxis = d3.svg.axis()
            .scale(y)
            .orient("left")
            .tickFormat(formatPercent);

        // var tip = d3.tip()
        //     .attr('class', 'd3-tip')
        //     .offset([-10, 0])
        //     .html(function(d) {
        //         return "<strong>Frequency:</strong> <span style='color:red'>" + d.frequency + "</span>";
        //     })

        var svg = d3.select("#chartdiv_init" + divId).append("svg")
            .attr("width", width + margin.left + margin.right)
            .attr("height", height + margin.top + margin.bottom)
            .append("g")
            .attr("transform", "translate(" + margin.left + "," + margin.top + ")");

        // svg.call(tip);

        // d3.tsv("data.tsv", type, function(error, data) {
        var data = [{
            "letter": "A",
            "frequency": ".08167"
        }, {
            "letter": "B",
            "frequency": ".01492"
        }, {
            "letter": "C",
            "frequency": ".02780"
        }, {
            "letter": "D",
            "frequency": ".04253"
        }, {
            "letter": "E",
            "frequency": ".12702"
        }, {
            "letter": "F",
            "frequency": ".02288"
        }, {
            "letter": "G",
            "frequency": ".02022"
        }, {
            "letter": "H",
            "frequency": ".06094"
        }, {
            "letter": "I",
            "frequency": ".06973"
        }, {
            "letter": "J",
            "frequency": ".00153"
        }, {
            "letter": "K",
            "frequency": ".00747"
        }, {
            "letter": "L",
            "frequency": ".04025"
        }, {
            "letter": "M",
            "frequency": ".02517"
        }, {
            "letter": "N",
            "frequency": ".06749"
        }, {
            "letter": "O",
            "frequency": ".07507"
        }, {
            "letter": "P",
            "frequency": ".01929"
        }, {
            "letter": "Q",
            "frequency": ".00098"
        }, {
            "letter": "R",
            "frequency": ".05987"
        }, {
            "letter": "S",
            "frequency": ".06333"
        }, {
            "letter": "T",
            "frequency": ".09056"
        }, {
            "letter": "U",
            "frequency": ".02758"
        }, {
            "letter": "V",
            "frequency": ".01037"
        }, {
            "letter": "W",
            "frequency": ".02465"
        }, {
            "letter": "X",
            "frequency": ".00150"
        }, {
            "letter": "Y",
            "frequency": ".01971"
        }, {
            "letter": "Z",
            "frequency": ".00074"
        }];
        x.domain(data.map(function (d) {
            return d.letter;
        }));
        y.domain([0, d3.max(data, function (d) {
            return d.frequency;
        })]);

        svg.append("g")
            .attr("class", "x axis")
            .attr("transform", "translate(0," + height + ")")
            .attr('fill', xColor)
            .call(xAxis);

        svg.append("g")
            .attr("class", "y axis")
            .attr('fill', yColor)
            .call(yAxis)
            .append("text")
            .attr("transform", "rotate(-90)")
            .attr("y", 6)
            .attr("dy", ".71em")
            .style("text-anchor", "end")
            .text("Frequency");

        svg.selectAll(".bar")
            .data(data)
            .enter().append("rect")
            .attr("class", "bar")
            .attr("x", function (d) {
                return x(d.letter);
            })
            .attr("width", x.rangeBand())
            .attr("y", function (d) {
                return y(d.frequency);
            })
            .attr("height", function (d) {
                return height - y(d.frequency);
            })
        // .on('mouseover', tip.show)
        // .on('mouseout', tip.hide)

        // });

        function type(d) {
            d.frequency = +d.frequency;
            return d;
        }


    }

    function drawPie(divId) {

        var width = getWidth(divId),
            height = getHeight(divId),
            radius = Math.min(width, height) / 2;

        var color = d3.scale.ordinal()
            .range(["#98abc5", "#8a89a6", "#7b6888", "#6b486b", "#a05d56", "#d0743c", "#ff8c00"]);

        var arc = d3.svg.arc()
            .outerRadius(radius - 10)
            .innerRadius(0);

        var labelArc = d3.svg.arc()
            .outerRadius(radius - 40)
            .innerRadius(radius - 40);

        var pie = d3.layout.pie()
            .sort(null)
            .value(function (d) {
                return d.population;
            });

        var svg = d3.select("#chartdiv_init" + divId).append("svg")
            .attr("width", width)
            .attr("height", height)
            .append("g")
            .attr("transform", "translate(" + width / 2 + "," + height / 2 + ")");
        var data = [{
            "age": "<5",
            "population": 2704659
        }, {
            "age": "5-13",
            "population": 4499890
        }, {
            "age": "14-17",
            "population": 2159981
        }, {
            "age": "18-24",
            "population": 3853788
        }, {
            "age": "25-44",
            "population": 14106543
        }, {
            "age": "45-64",
            "population": 8819342
        }, {
            "age": "≥65",
            "population": 612463
        }];

        var g = svg.selectAll(".arc")
            .data(pie(data))
            .enter().append("g")
            .attr("class", "arc");

        g.append("path")
            .attr("d", arc)
            .style("fill", function (d) {
                return color(d.data.age);
            });

        g.append("text")
            .attr("transform", function (d) {
                return "translate(" + labelArc.centroid(d) + ")";
            })
            .attr("dy", ".35em")
            .text(function (d) {
                return d.data.age;
            });

        function type(d) {
            d.population = +d.population;
            return d;
        }

    }

    function drawStandard(divId, xColor, yColor) {
        var margin = {
            top: 40,
            right: 20,
            bottom: 30,
            left: 40,
            front: 0,
            back: 0
        },
            width = getWidth(divId) - margin.left - margin.right,
            height = getHeight(divId) - margin.top - margin.bottom,
            depth = 100 - margin.front - margin.back;

        var xScale = d3.scale.ordinal()
            .rangeRoundBands([0, width], .2);

        var yScale = d3.scale.linear()
            .range([height, 0]);

        var zScale = d3.scale.ordinal()
            .domain([0, 1, 2])
            .rangeRoundBands([0, depth], .4);

        var xAxis = d3.svg.axis()
            .scale(xScale)
            // .attr('fill', '#412563')
            .orient('bottom');

        var yAxis = d3.svg.axis()
            .scale(yScale)
            .orient('left')
            .ticks(10, '%');

        var chart = d3.select('#chartdiv_init' + divId)
            .append('svg')
            .attr('width', width + margin.left + margin.right)
            .attr('height', height + margin.top + margin.bottom)
            .append('g')
            .attr('transform', svgHelp.translate(margin.left, margin.right));

        var data = [{
            "letter": "A",
            "frequency": ".08167"
        }, {
            "letter": "B",
            "frequency": ".01492"
        }, {
            "letter": "C",
            "frequency": ".02782"
        }, {
            "letter": "D",
            "frequency": ".04253"
        }, {
            "letter": "E",
            "frequency": ".12702"
        }, {
            "letter": "F",
            "frequency": ".02288"
        }, {
            "letter": "G",
            "frequency": ".02015"
        }, {
            "letter": "H",
            "frequency": ".06094"
        }, {
            "letter": "I",
            "frequency": ".06966"
        }, {
            "letter": "J",
            "frequency": ".00153"
        }, {
            "letter": "K",
            "frequency": ".00772"
        }, {
            "letter": "L",
            "frequency": ".04025"
        }, {
            "letter": "M",
            "frequency": ".02406"
        }, {
            "letter": "N",
            "frequency": ".06749"
        }, {
            "letter": "O",
            "frequency": ".07507"
        }, {
            "letter": "P",
            "frequency": ".01929"
        }, {
            "letter": "Q",
            "frequency": ".00095"
        }, {
            "letter": "R",
            "frequency": ".05987"
        }, {
            "letter": "S",
            "frequency": ".06327"
        }, {
            "letter": "T",
            "frequency": ".09056"
        }, {
            "letter": "U",
            "frequency": ".02758"
        }, {
            "letter": "V",
            "frequency": ".00978"
        }, {
            "letter": "W",
            "frequency": ".02360"
        }, {
            "letter": "X",
            "frequency": ".00150"
        }, {
            "letter": "Y",
            "frequency": ".01974"
        }, {
            "letter": "Z",
            "frequency": ".00074"
        }];
        xScale.domain(_.sortBy(_.uniq(_.map(data, 'letter'))));
        yScale.domain([0, _.max(data, 'frequency').frequency]);

        function x(d) {
            return xScale(d.letter);
        }

        function y(d) {
            return yScale(d.frequency);
        }

        var camera = [width / 2, height / 2, -1000];
        var barGen = bar3d()
            .camera(camera)
            .x(x)
            .y(y)
            .z(zScale(0))
            .width(xScale.rangeBand())
            .height(function (d) {
                return height - y(d);
            })
            .depth(xScale.rangeBand());

        chart.append('g')
            .attr('class', 'x axis')
            .attr('transform', svgHelp.translate(0, height))
            .attr('fill', xColor)
            .call(xAxis);

        chart.append('g')
            .attr('class', 'y axis')
            .attr('fill', yColor)
            .call(yAxis)
            .append('text')
            .attr('transform', svgHelp.rotate(-90))
            .attr('y', 6)
            .attr('dy', '.71em')
            .style('text-anchor', 'end')
            .text('Frequency');

        var extent = xScale.rangeExtent();
        var middle = (extent[1] - extent[0]) / 2;
        chart.selectAll('g.bar').data(data)
            .enter().append('g')
            .attr('class', 'bar')
            // sort based on distance from center, so we draw outermost
            // bars first. otherwise, bars drawn later might overlap bars drawn first
            .sort(function (a, b) {
                return Math.abs(x(b) - middle) - Math.abs(x(a) - middle);
            })
            .call(barGen);


        function type(d) {
            d.frequency = +d.frequency;
            return d;
        }
    }
    $('body').on('change', '.chart-selection', function () {
        var id = $(this).attr('id');
        var xColor = $(this).parents().eq(3).find('.xAxisColor').css('background-color');
        var yColor = $(this).parents().eq(3).find('.yAxisColor').css('background-color');
        $(this).parents().eq(9).find('.selectVal').val($(this).val());
        drawChart(id, xColor, yColor);
    });

    var counter = 1;

    $(document).on('click', '.dropdown-menu, .pcr-app, .select2-selection__choice__remove', function (e) {
        e.stopPropagation();
    });

    $(document).on('click', '.add-block', function (e) {
        //call the duplicate function here (increment the counter and pass it to the duplicate function)
        addNewBlock();
    });

    function addNewBlock() {
        counter++;

        var $parEl = $('.blockContainer');
        var $el = $('#template').clone();
        var $last = $('.blockContainer > div:last');
        console.log($last);

        $el.removeAttr('id');
        $el.removeAttr('style');
        $el.find('.chart-selection').attr('id', counter);
        $el.find('.chart-area').attr('id', 'chartdiv_init' + counter);
        $el.find('.selectVal').val();
        $el.find('.paramList1').select2();
        $el.insertBefore($last);
        console.log($el);

    }

    $(document).ready(function () {
        $('.paramList').select2();
    });

    $(document.body).on("change", ".paramList, .paramList1", function () {
        $(this).parents().eq(9).find('.param-forecast, .param-target, .param-budget, .param-actual, .param-gap').hide();

        if (jQuery.inArray('1', $(this).val()) != -1)
            $(this).parents().eq(9).find('.param-actual').show();
        if (jQuery.inArray('3', $(this).val()) != -1)
            $(this).parents().eq(9).find('.param-budget').show();
        if (jQuery.inArray('2', $(this).val()) != -1)
            $(this).parents().eq(9).find('.param-target').show();
        if (jQuery.inArray('4', $(this).val()) != -1)
            $(this).parents().eq(9).find('.param-forecast').show();
        if (jQuery.inArray('5', $(this).val()) != -1)
            $(this).parents().eq(9).find('.param-gap').show();

    });


    // $('#viewModal').on('show.bs.modal', function(event) {
    //     var button = $(event.relatedTarget);
    //     var curEl = $(button).parents().eq(4).clone();
    //     var selId = $(curEl).find('.chart-selection').val();

    //     $(curEl).find('.divResize').removeAttr('id');
    //     $(curEl).find('.form_kpi').prop('disabled', true);
    //     $(curEl).find('.fa-info-circle').hide();
    //     $(curEl).find('.fa-cog').hide();
    //     $(this).find('.modal-body').html(curEl);

    // });

    $('.all_chart_popup').on('show.bs.modal', function (event) {
        var kpiBox = $(event.relatedTarget).parent().find('.chart_kpi_boxs').clone();
        // var chartBox = $(event.relatedTarget).parent().find('.divResize').clone();
        var topBox = $(event.relatedTarget).parent().find('.chart_top_menu_left').clone();
        var spanText = $(event.relatedTarget).parent().find('.form_dropdown_text option:selected').text();
        var selectVal = $(event.relatedTarget).parent().find('.selectVal').val();
        $(topBox).find('.chart_top_menu_right').empty();
        // console.log($(event.relatedTarget).parent().find('.selectVal'));
        $(this).find('.top-box').html(topBox);
        $(this).find('.span-text').html(spanText);
        $(this).find('.kpi-box').html(kpiBox);
        $('#chartdiv_init999').empty();
        drawChart(999, '#000', '#000', selectVal);
    });


    $('body').on('click', '.removeBlock', function () {
        $(this).parents().eq(7).remove();
        counter--;
    });
</script>
</body>